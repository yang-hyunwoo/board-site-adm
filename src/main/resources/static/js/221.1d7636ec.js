"use strict";(self["webpackChunkboard_site_front"]=self["webpackChunkboard_site_front"]||[]).push([[221],{9643:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var n=a(3396),i=a(7139);const r=e=>((0,n.dD)("data-v-eda5fe6e"),e=e(),(0,n.Cn)(),e),s={class:"margincustom margintpcust"},l=["src"],o={class:"margincustom",style:{"margin-top":"2rem"}},g=r((()=>(0,n._)("br",null,null,-1))),c=r((()=>(0,n._)("br",null,null,-1)));function u(e,t,a,r,u,d){const p=(0,n.up)("ToastViewer"),h=(0,n.up)("BlackBg"),m=(0,n.up)("Pagination");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",s,[(0,n._)("h2",null,[e.imgChk?((0,n.wg)(),(0,n.iD)("img",{key:0,src:e.agencyImage,alt:"",class:"avatar-sm rounded-circle me-2"},null,8,l)):(0,n.kq)("",!0),(0,n.Uk)((0,i.zw)(e.agency_name),1)])]),(0,n._)("div",o,[(0,n.Uk)((0,i.zw)(e.agency_comment)+" ",1),g,(0,n.Uk)(" "+(0,i.zw)(e.agency_address)+" ",1),c,(0,n.Uk)(" "+(0,i.zw)(e.agency_tel),1)]),e.detail_viewer?((0,n.wg)(),(0,n.j4)(p,{key:0,content:e.content},null,8,["content"])):(0,n.kq)("",!0),e.loading?((0,n.wg)(),(0,n.j4)(h,{key:1})):(0,n.kq)("",!0),e.pageChk?((0,n.wg)(),(0,n.j4)(m,{key:2,pageListItem:e.pageListItem,onPageCurrent:d.pageCurr,pageTotal:e.pageTotal},null,8,["pageListItem","onPageCurrent","pageTotal"])):(0,n.kq)("",!0)],64)}var d=a(5065),p=a(5033),h=a(360),m={data:function(){return{articleId:this.$route.query.sn,loading:!1,pageListItem:3,page:0,pageTotal:0,pageChk:!1,title:"",agency_name:"",agency_comment:"",detail_viewer:!1,content:"",travel_list:[],agency_address:"",agency_tel:"",agencyImage:""}},components:{ToastViewer:d.Z,BlackBg:p.Z,Pagination:h.Z},created(){this.init()},methods:{init(){this.agencyInit()},agencyInit(){this.loading=!0;const e={Authorization:"Bearer "+sessionStorage.getItem("token")};this.$axios.get("/api/adm/agency/"+this.articleId,{headers:e}).then((e=>{"SUCCESS"==e.data.resultCode&&(null==e.data.result.fileId||""==e.data.result.fileId?this.imgChk=!1:(this.imgChk=!0,this.agencyImage="/api/common/image/"+e.data.result.fileId+"/1"),this.agency_name=e.data.result.name,this.agency_comment=e.data.result.comment,this.agency_address=e.data.result.address,this.agency_tel=e.data.result.tel,this.content=e.data.result.detail)})).catch((e=>{this.$swal("",e.response.data.result,"error")})).finally((()=>{this.loading=!1,this.detail_viewer=!0}))},agencyTravelListInit(){let e={page:this.page};const t={Authorization:"Bearer "+sessionStorage.getItem("token")};this.$axios.get("/api/trip/agency-trip/triplist/"+this.articleId,{headers:t,params:e}).then((e=>{"SUCCESS"==e.data.resultCode&&(this.pageTotal=e.data.result.totalElements,this.travel_list=[],e.data.result.content.forEach((e=>{let t=[];t.title=e.title,t.name=e.travelAgencyName,t.id=e.id,t.city=e.city,t.start_de=this.$splitDateHyphen(e.travel_start_at),t.end_de=this.$splitDateHyphen(e.travel_end_at),t.read_count=e.read_count,t.real_pay=e.real_paid+"원",t.sale_percent=e.sale_percent+"%",t.sale_pay=e.sale_paid+"원",null==e.thumnbnailFileId||""==e.thumnbnailFileId?t.img_chk=!1:t.img_chk=!0,t.img="/api/common/image/thumb/"+e.thumnbnailFileId+"/1",this.travel_list.push(t)})),0==this.pageTotal?this.pageChk=!1:this.pageChk=!0)})).catch((e=>{this.$swal("",e.response.data.result,"error")})).finally((()=>{this.loading=!1}))},pageCurr(e){this.page=e-1,this.agencyTravelListInit()},todoCclick(e){this.$router.push({path:"/TravelDetail",name:"travelDetail",query:{sn:e}})}}},_=a(89);const y=(0,_.Z)(m,[["render",u],["__scopeId","data-v-eda5fe6e"]]);var k=y},360:function(e,t,a){a.d(t,{Z:function(){return u}});var n=a(3396);const i={class:"pagination"},r={class:"overflow-auto"},s={class:"mt-3"};function l(e,t,a,l,o,g){const c=(0,n.up)("b-pagination"),u=(0,n.up)("b-card");return(0,n.wg)(),(0,n.iD)("div",i,[(0,n.Wm)(u,{style:{"justify-content":"center"}},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n._)("div",s,[(0,n.Wm)(c,{modelValue:e.ex4CurrentPage,"onUpdate:modelValue":t[0]||(t[0]=t=>e.ex4CurrentPage=t),pills:"","total-rows":e.ex4Rows,onPageClick:g.pageClick,"per-page":e.perPage,currPage:a.currPage},null,8,["modelValue","total-rows","onPageClick","per-page","currPage"])])])])),_:1}),(0,n.WI)(e.$slots,"default")])}var o={props:{pageListItem:Number,pageTotal:Number,currPage:{type:Number,default:1}},data:function(){return{ex4CurrentPage:this.currPage,ex4Rows:this.pageTotal,perPage:this.pageListItem}},created(){console.log(this.currPage)},methods:{pageClick:function(e,t){this.ex4CurrentPage=t,this.$emit("pageCurrent",this.ex4CurrentPage)}}},g=a(89);const c=(0,g.Z)(o,[["render",l]]);var u=c}}]);
//# sourceMappingURL=221.1d7636ec.js.map