{"version":3,"file":"js/624.74035c51.js","mappings":"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","sources":["webpack://board-site-front/./src/components/editor/ToastModifyEditor.vue","webpack://board-site-front/./src/components/editor/ToastModifyEditor.vue?d6ff","webpack://board-site-front/./src/components/loading/BlackBg.vue","webpack://board-site-front/./src/components/loading/BlackBg.vue?f5b7","webpack://board-site-front/./src/components/tour/TourModify.vue","webpack://board-site-front/./src/components/tour/TourModify.vue?361b"],"sourcesContent":["<template>\r\n  <div   ref=\"refEditor\"></div>\r\n</template>\r\n\r\n<script setup>\r\nimport \"@toast-ui/editor/dist/toastui-editor.css\"; // Editor's Style\r\nimport '@toast-ui/editor/dist/theme/toastui-editor-dark.css';\r\nimport Editor from \"@toast-ui/editor\";\r\n// import colorSyntax from '@toast-ui/editor-plugin-color-syntax/dist/toastui-editor-plugin-color-syntax.css';\r\nimport { ref, onMounted,defineEmits,defineProps } from \"vue\";\r\n\r\nconst emit =   defineEmits(['contentChange']);\r\nconst refEditor = ref(null); // template의 ref의 값과 동일한 변수 선언\r\nconst axios = require(\"axios\");\r\n\r\n\r\nconst props = defineProps({                     \r\n    content : {\r\n        type:String,\r\n        required : true\r\n    }\r\n});\r\n\r\nonMounted( () => { \r\n   const xeditor = new Editor({\r\n    el: refEditor.value,\r\n    height: \"500px\",\r\n    initialValue: props.content,             //init value \r\n    initialEditType: \"wysiwyg\",\r\n    previewStyle: \"tab\",\r\n    useDefaultHTMLSanitizer: false,\r\n    language:\"ko-KR\",\r\n    usageStatistics: false,\r\n    hideModeSwitch: true,   //밑에 창 \r\n    // TODO: 할것\r\n      hooks: {\r\n    addImageBlobHook: (fileOrBlob, callback) => {\r\n        const headers = {\r\n          \"content-type\" : \"multipart/form-data\"\r\n        }\r\n        const formdata = new FormData();\r\n        formdata.append(\"multiFile\",fileOrBlob);\r\n        axios.post(process.env.VUE_APP_FILE_UPLOAD,formdata,{headers}).then((res) =>{\r\n          callback(res.data[0].filePath);\r\n        }).catch(() => {\r\n        }).finally(() => {\r\n        });\r\n    },\r\n    },\r\n    events: {                                               //editor의 값이 변경 될때마다 emit으로 부모 컴포넌트에 던져 준다.\r\n        change : ()=> emit('contentChange',xeditor.getHTML())\r\n    },\r\n    toolbarItems:[                                           //toolbar의 아이템\r\n        ['heading', 'bold', 'italic', 'strike'],\r\n        ['hr', 'quote'],\r\n        ['ul', 'ol', 'task'],\r\n        ['table', 'image', 'link'],\r\n        ['scrollSync'],\r\n    ],\r\n    \r\n\r\n  });\r\n  \r\n})\r\n\r\n</script>\r\n\r\n\r\n","import script from \"./ToastModifyEditor.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ToastModifyEditor.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\r\n  <div class=\"black-bg\" @click=\"$emit('close')\">\r\n<div class=\"customdis\">\r\n  <div class=\"spinner-border text-secondary\" style=\"width: 3rem; height: 3rem;\" role=\"status\">\r\n    <span class=\"visually-hidden\">Loading...</span>\r\n  </div>\r\n</div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n//배경\r\n// 수정추가된부분===============================================>\r\n.black-bg {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 100;\r\n  background: rgba(0, 0, 0, 0.3);\r\n}\r\n.customdis{\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    transform: translate(-50% , -50%);\r\n}\r\n</style>\r\n","import { render } from \"./BlackBg.vue?vue&type=template&id=1c0f7134\"\nimport script from \"./BlackBg.vue?vue&type=script&lang=js\"\nexport * from \"./BlackBg.vue?vue&type=script&lang=js\"\n\nimport \"./BlackBg.vue?vue&type=style&index=0&id=1c0f7134&lang=scss\"\n\nimport exportComponent from \"C:\\\\Git_project\\\\board-site-adm\\\\front-end\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n<div class=\"input-group mb-3\" style=\"margin-top:1rem;\">\r\n  <div style=\"display:block; width:100%; margin:1rem;\">\r\n            도시 명 :\r\n            <select style=\"width:10%;\" v-model=\"citySelect\">\r\n                <option value=\"\">선택하세요.</option>\r\n                <option value=\"서울\">서울</option>\r\n                <option value=\"부산\">부산</option>\r\n                <option value=\"울산\">울산</option>\r\n                <option value=\"대구\">대구</option>\r\n                <option value=\"대전\">대전</option>\r\n                <option value=\"충남\">충남</option>\r\n                <option value=\"제주도\">제주도</option>\r\n            </select>\r\n  </div>\r\n  <input type=\"text\" v-model=\"title\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\" placeholder=\"제목을 입력해주세요.\">\r\n</div>\r\n    <ToastEditor  v-if=\"test\" @contentChange=\"editorContent\" :content=\"content\"></ToastEditor>\r\n    <div>\r\n            썸네일\r\n            <div style=\"width:500px ;height:300px\" v-if=\"preview!=''\">\r\n            <img :src=\"preview\" style=\"width:100% ; height:100%;\" />\r\n             </div>\r\n            <label class=\"file-label\" for=\"chooseFile\">썸네일 추가</label>\r\n                            <input class=\"file\" id=\"chooseFile\"\r\n                            type=\"file\" \r\n                            @click=\"resetImageUploader\"\r\n                            v-on:change=\"upload\"\r\n                            accept=\"image/png, image/jpeg, image/gif\"\r\n                            ref=\"imageUploader\"\r\n                            >\r\n        <button style=\"margin-left:1rem;\" type=\"button\" class=\"btn btn-primary\" @Click=\"resetImage()\">썸네일 삭제</button>\r\n        </div>\r\n\r\n    <div style=\"display:flex; justify-content:end;\">\r\n    <button type=\"button\" class=\"btn btn-primary\" @click=\"regArticle\">저장</button>\r\n    </div>\r\n<BlackBg v-if=\"loading\"></BlackBg>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport ToastEditor from '@/components/editor/ToastModifyEditor.vue'\r\nimport BlackBg from \"../loading/BlackBg\"\r\nexport default {\r\n\tdata: function () {\r\n    return {\r\n        tourId:0,\r\n        contentChange:'',\r\n        title:\"\",\r\n        loading:false,\r\n        content:\"\",\r\n        test:false,\r\n        preview:'',\r\n        citySelect:'',\r\n        fileId:'',\r\n    }\r\n  },\r\n  components :{\r\n        ToastEditor,\r\n        BlackBg\r\n  },\r\n  created(){\r\n    this.tourId = this.$route.query.sn;\r\n    this.init();\r\n  },    \r\n  methods: {\r\n    init() {\r\n            this.validArticle();\r\n    },\r\n\r\n    validArticle() {\r\n        this.loading = true;\r\n        const headers = { 'Authorization': 'Bearer ' + sessionStorage.getItem(\"token\")}\r\n        this.$axios.get(process.env.VUE_APP_TOUR_READ+this.$route.query.sn,{headers}).then((res) =>{\r\n         if(res.data.resultCode==\"SUCCESS\"){\r\n          this.citySelect = res.data.result.city;\r\n            this.title = res.data.result.title;\r\n            this.content = res.data.result.content;\r\n            this.contentChange = res.data.result.content;\r\n            this.fileId = res.data.result.thumbnailId;\r\n            if(res.data.result.thumbnailId!=null){\r\n              this.preview = process.env.VUE_APP_FILE_IMAGE_READ+res.data.result.thumbnailId+\"/1\";\r\n            }\r\n          }\r\n        }).catch((error) => {\r\n             this.$swal('',error.response.data.result,'error');\r\n             this.$router.push(\"/tourList\");\r\n        }).finally(() => {\r\n          this.pageChk = true;\r\n          this.loading = false;\r\n          this.test = true;\r\n        });\r\n    },\r\n        editorContent(value){\r\n            this.contentChange =  value;\r\n        },\r\n        async regArticle(){\r\n             const headers = { 'Authorization': 'Bearer ' + sessionStorage.getItem(\"token\")}\r\n            var content = this.contentChange;\r\n            content = content.replace(/&nbsp;/gi,\"\");\r\n            content = content.replace(/<br>/gi,\"\");\r\n            content = content.replace(/ /gi,\"\");\r\n            if(this.$emptyChk(this.title)){\r\n                    this.$swal('','제목을 입력해주세요.','warning');\r\n                    return;\r\n            }\r\n            if(content ==\"<p><\\/p>\" || content==\" \"){\r\n                this.$swal('','내용을 입력해주세요.','warning');\r\n                return;\r\n            }\r\n            //이미지 변경\r\n            if(this.file!='' || this.file!=undefined) {\r\n              const imageheaders = {\r\n                  \"content-type\" : \"multipart/form-data\"\r\n              }\r\n              const formdata = new FormData();\r\n              formdata.append(\"multiFile\",this.file);        \r\n              await this.$axios.post(process.env.VUE_APP_FILE_UPLOAD,formdata,{imageheaders}).then((res) =>{\r\n                    this.fileId = res.data[0].fileId;\r\n                }).catch(() => {\r\n                }).finally(() => {\r\n              });\r\n\r\n            }\r\n            let param = {\r\n                \"title\"  : this.title ,\r\n                \"content\" : this.contentChange,\r\n                \"city\" : this.citySelect,\r\n                \"thumbnailId\" : this.fileId,\r\n                \"id\" : this.tourId\r\n            }\r\n            this.loading = true;\r\n            await this.$axios.put(process.env.VUE_APP_TOUR_UPD+this.tourId+\"/form\",param,{headers}).then((res) =>{\r\n                if(res.data.resultCode==\"SUCCESS\"){\r\n                    this.$swal('',\"저장되었습니다.\",'success');\r\n                        this.$router.push({\r\n                                    path: \"/tourDetail\",\r\n                                    name: \"tourDetail\",\r\n                                    query: { sn: this.tourId }\r\n                                });\r\n            }\r\n        }).catch((error) => {\r\n             this.$swal('',error.response.data.result,'error');\r\n        }).finally(() => {\r\n          this.loading = false;\r\n        });\r\n        },\r\n        upload(e) {\r\n                this.file = e.target.files[0];\r\n                var url = URL.createObjectURL(this.file);\r\n                this.preview = url;\r\n        },\r\n            resetImageUploader() {\r\n                this.$refs.imageUploader.value = '';\r\n            },\r\n            resetImage() {\r\n                this.fileId =\"\";\r\n                this.file=\"\";\r\n                this.preview='';\r\n                this.$refs.imageUploader.value = '';\r\n            }\r\n  }\r\n\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n\r\n#chooseFile {\r\n    visibility: hidden;\r\n}\r\n.file-label {\r\n  background-color: #5b975b;\r\n  color: #fff;\r\n  text-align: center;\r\n  padding: 10px 1rem;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n}\r\n.file {\r\n  display: none;\r\n}\r\n</style>","import { render } from \"./TourModify.vue?vue&type=template&id=0e3baca7&scoped=true\"\nimport script from \"./TourModify.vue?vue&type=script&lang=js\"\nexport * from \"./TourModify.vue?vue&type=script&lang=js\"\n\nimport \"./TourModify.vue?vue&type=style&index=0&id=0e3baca7&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Git_project\\\\board-site-adm\\\\front-end\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0e3baca7\"]])\n\nexport default __exports__"],"names":["refEditor","ref","axios","require","onMounted","xeditor","Editor","el","value","height","initialValue","props","content","initialEditType","previewStyle","useDefaultHTMLSanitizer","language","usageStatistics","hideModeSwitch","hooks","addImageBlobHook","fileOrBlob","callback","headers","formdata","FormData","append","post","process","then","res","data","filePath","catch","finally","events","change","emit","getHTML","toolbarItems","__exports__","_createElementVNode","class","style","role","_hoisted_1","_createElementBlock","onClick","_ctx","render","_hoisted_4","for","$event","type","placeholder","_createBlock","_component_ToastEditor","onContentChange","$options","src","_hoisted_16","id","onChange","accept","_component_BlackBg","key","tourId","contentChange","title","loading","test","preview","citySelect","fileId","components","ToastEditor","BlackBg","created","this","$route","query","sn","init","methods","validArticle","sessionStorage","getItem","$axios","get","resultCode","result","city","thumbnailId","error","$swal","response","$router","push","pageChk","editorContent","async","replace","$emptyChk","file","undefined","imageheaders","param","put","path","name","upload","e","target","files","url","URL","createObjectURL","resetImageUploader","$refs","imageUploader","resetImage"],"sourceRoot":""}