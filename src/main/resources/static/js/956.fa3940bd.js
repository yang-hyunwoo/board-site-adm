"use strict";(self["webpackChunkboard_site_front"]=self["webpackChunkboard_site_front"]||[]).push([[956],{956:function(e,t,a){a.r(t),a.d(t,{default:function(){return L}});var i=a(3396),n=a(9242),s=a(7139);const l=e=>((0,i.dD)("data-v-464e914e"),e=e(),(0,i.Cn)(),e),o={id:"contact",class:"contact-area section-padding"},r={class:"container"},d={class:"row"},c={class:"col-lg-7"},h={class:"contact"},m={class:"row",style:{"margin-top":"2rem"}},p={class:"form-group col-md-12"},u={class:"form-group col-md-12",style:{"margin-top":"1rem"}},g={class:"form-group col-md-12",style:{"margin-top":"1rem"}},y={class:"col-md-12 text-center",style:{"margin-top":"1rem"}},f={class:"col-lg-5",style:{"margin-top":"2rem"}},w=l((()=>(0,i._)("i",{class:"fa fa-map-marker"},null,-1))),_=l((()=>(0,i._)("h4",null,"주소",-1))),v={class:"single_address"},C=l((()=>(0,i._)("i",{class:"fa fa-phone"},null,-1))),b=l((()=>(0,i._)("h4",{style:{"margin-bottom":"1rem"}},"전화번호",-1))),k=(0,i.Uk)("- "),U=(0,i.Uk)("- "),$={class:"single_address"},x={class:"file-label",for:"chooseFile"},I=l((()=>(0,i._)("i",{class:"fa fa-image"},null,-1))),S=(0,i.Uk)("썸네일 "),A={key:0,style:{width:"400px",height:"250px"}},T=["src"];function D(e,t,a,l,D,q){const E=(0,i.up)("ToastEditor");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",r,[(0,i._)("div",d,[(0,i._)("div",c,[(0,i._)("div",h,[(0,i._)("div",m,[(0,i._)("div",p,[(0,i.wy)((0,i._)("input",{type:"text",name:"name",class:"form-control",placeholder:"여행사 명",required:"required","onUpdate:modelValue":t[0]||(t[0]=t=>e.agencyName=t)},null,512),[[n.nr,e.agencyName]])]),(0,i._)("div",u,[(0,i.wy)((0,i._)("input",{type:"text",name:"subject",class:"form-control",placeholder:"코멘트",required:"required","onUpdate:modelValue":t[1]||(t[1]=t=>e.agencyComment=t)},null,512),[[n.nr,e.agencyComment]])]),(0,i._)("div",g,[(0,i.Wm)(E,{onContentChange:q.editorContent},null,8,["onContentChange"])]),(0,i._)("div",y,[(0,i._)("button",{class:"btn btn-contact-bg",onClick:t[2]||(t[2]=e=>q.regAgency())},"등록")])])])]),(0,i._)("div",f,[(0,i._)("div",{class:"single_address",onClick:t[3]||(t[3]=e=>q.address())},[w,_,(0,i._)("p",null,(0,s.zw)(e.roadAddress),1)]),(0,i._)("div",v,[C,b,(0,i.wy)((0,i._)("input",{type:"text",style:{width:"80px"},"onUpdate:modelValue":t[4]||(t[4]=t=>e.tel1=t)},null,512),[[n.nr,e.tel1]]),k,(0,i.wy)((0,i._)("input",{type:"text",style:{width:"80px"},"onUpdate:modelValue":t[5]||(t[5]=t=>e.tel2=t)},null,512),[[n.nr,e.tel2]]),U,(0,i.wy)((0,i._)("input",{type:"text",style:{width:"80px"},"onUpdate:modelValue":t[6]||(t[6]=t=>e.tel3=t)},null,512),[[n.nr,e.tel3]])]),(0,i._)("div",$,[(0,i._)("label",x,[(0,i._)("input",{class:"file",id:"chooseFile",type:"file",onClick:t[7]||(t[7]=(...e)=>q.resetImageUploader&&q.resetImageUploader(...e)),onChange:t[8]||(t[8]=(...e)=>q.upload&&q.upload(...e)),accept:"image/png, image/jpeg, image/gif",ref:"imageUploader"},null,544),I,(0,i._)("h4",null,[S,(0,i._)("button",{style:{"margin-left":"1rem"},type:"button",class:"btn btn-primary",onClick:t[9]||(t[9]=e=>q.resetImage())},"썸네일 삭제")])])]),""!=e.preview?((0,i.wg)(),(0,i.iD)("div",A,[(0,i._)("img",{src:e.preview,style:{width:"100%",height:"100%"}},null,8,T)])):(0,i.kq)("",!0)])])])])}var q=a(7284),E={data:function(){return{articleId:0,contentChange:"",agencyName:"",preview:"",file:"",citySelect:"",saveThumbnail_id:"",agencyComment:"",tel1:"",tel2:"",tel3:"",roadAddress:"",aa:!1}},components:{ToastEditor:q.Z},created(){},methods:{editorContent(e){this.contentChange=e},async regAgency(){const e={Authorization:"Bearer "+sessionStorage.getItem("token")};var t=this.contentChange;if(t=t.replace(/&nbsp;/gi,""),t=t.replace(/<br>/gi,""),t=t.replace(/ /gi,""),this.$emptyChk(this.agencyName))return void this.$swal("","여행사 명을 입력해주세요.","warning");if(this.$emptyChk(this.tel1)||this.$emptyChk(this.tel2)||this.$emptyChk(this.tel3))return void this.$swal("","번호를 입력해주세요.","warning");if(this.$emptyChk(this.roadAddress))return void this.$swal("","여행사 명을 입력해주세요.","warning");if("<p></p>"==t||""==t)return void this.$swal("","내용을 입력해주세요.","warning");if(""!=this.file){const e={"content-type":"multipart/form-data"},t=new FormData;t.append("multiFile",this.file),await this.$axios.post("/api/common/file-upload",t,{imageheaders:e}).then((e=>{this.saveThumbnail_id=e.data[0].fileId})).catch((()=>{})).finally((()=>{}))}let a={name:this.agencyName,address:this.roadAddress,tel:this.tel1+"-"+this.tel2+"-"+this.tel3,detail:this.contentChange,file_id:this.saveThumbnail_id,comment:this.agencyComment};await this.$axios.post("/api/adm/agency/new-agency",a,{headers:e}).then((e=>{"SUCCESS"==e.data.resultCode&&(this.$swal("","저장되었습니다.","success"),this.$router.push("/agencyList"))})).catch((e=>(this.$swal("",e.response.data.result,"error"),!1))).finally((()=>{}))},upload(e){this.file=e.target.files[0];var t=URL.createObjectURL(this.file);this.preview=t},resetImageUploader(){this.$refs.imageUploader.value=""},resetImage(){this.file="",this.preview="",this.$refs.imageUploader.value=""},address(){new window.daum.Postcode({oncomplete:e=>{this.roadAddress=e.roadAddress}}).open()}}},F=a(89);const V=(0,F.Z)(E,[["render",D],["__scopeId","data-v-464e914e"]]);var L=V},7284:function(e,t,a){a.d(t,{Z:function(){return r}});var i=a(3396),n=a(6171),s=a(4870),l={__name:"ToastEditor",emits:["contentChange"],setup(e,{emit:t}){const l=(0,s.iH)(null),o=a(6265);return(0,i.bv)((()=>{console.log("onMounted");const e=new n.ZP({el:l.value,height:"500px",initialValue:"",initialEditType:"wysiwyg",previewStyle:"tab",useDefaultHTMLSanitizer:!1,language:"ko-KR",usageStatistics:!1,hideModeSwitch:!0,hooks:{addImageBlobHook:(e,t)=>{const a={"content-type":"multipart/form-data"},i=new FormData;i.append("multiFile",e),o.post("/api/common/file-upload",i,{headers:a}).then((e=>{t(e.data[0].filePath)})).catch((()=>{})).finally((()=>{}))}},events:{change:()=>t("contentChange",e.getHTML())},toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task"],["table","image","link"],["scrollSync"]]})})),(e,t)=>((0,i.wg)(),(0,i.iD)("div",{ref_key:"refEditor",ref:l},null,512))}};const o=l;var r=o}}]);
//# sourceMappingURL=956.fa3940bd.js.map