"use strict";(self["webpackChunkboard_site_front"]=self["webpackChunkboard_site_front"]||[]).push([[164],{1164:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var i=n(3396),a=n(9242);const o={class:"input-group mb-3",style:{"margin-top":"1rem"}},r={style:{display:"flex","justify-content":"end"}};function l(t,e,n,l,s,c){const u=(0,i.up)("ToastEditor");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",o,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=e=>t.title=e),class:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",placeholder:"제목을 입력해주세요."},null,512),[[a.nr,t.title]])]),(0,i.Wm)(u,{onContentChange:c.editorContent},null,8,["onContentChange"]),(0,i._)("div",r,[(0,i._)("button",{type:"button",class:"btn btn-primary",onClick:e[1]||(e[1]=(...t)=>c.regArticle&&c.regArticle(...t))},"등록")])],64)}var s=n(7284),c={data:function(){return{articleId:0,contentChange:"",title:""}},components:{ToastEditor:s.Z},created(){},methods:{editorContent(t){this.contentChange=t},regArticle(){const t={Authorization:"Bearer "+sessionStorage.getItem("token")};var e=this.contentChange;if(e=e.replace(/&nbsp;/gi,""),e=e.replace(/<br>/gi,""),e=e.replace(/ /gi,""),this.$emptyChk(this.title))return void this.$swal("","제목을 입력해주세요.","warning");if("<p></p>"==e||""==e)return void this.$swal("","내용을 입력해주세요.","warning");let n={title:this.title,content:this.contentChange};this.$axios.post("/api/trip/articles/new-article",n,{headers:t}).then((t=>{"SUCCESS"==t.data.resultCode&&(this.$swal("","저장되었습니다.","success"),this.$router.push("/article"))})).catch((()=>{})).finally((()=>{}))}}},u=n(89);const d=(0,u.Z)(c,[["render",l]]);var h=d},7284:function(t,e,n){n.d(e,{Z:function(){return s}});var i=n(3396),a=n(6171),o=n(4870),r={__name:"ToastEditor",emits:["contentChange"],setup(t,{emit:e}){const r=(0,o.iH)(null),l=n(6265);return(0,i.bv)((()=>{console.log("onMounted");const t=new a.ZP({el:r.value,height:"500px",initialValue:"",initialEditType:"wysiwyg",previewStyle:"tab",useDefaultHTMLSanitizer:!1,language:"ko-KR",usageStatistics:!1,hideModeSwitch:!0,hooks:{addImageBlobHook:(t,e)=>{const n={"content-type":"multipart/form-data"},i=new FormData;i.append("multiFile",t),l.post("/api/common/file-upload",i,{headers:n}).then((t=>{e(t.data[0].filePath)})).catch((()=>{})).finally((()=>{}))}},events:{change:()=>e("contentChange",t.getHTML())},toolbarItems:[["heading","bold","italic","strike"],["hr","quote"],["ul","ol","task"],["table","image","link"],["scrollSync"]]})})),(t,e)=>((0,i.wg)(),(0,i.iD)("div",{ref_key:"refEditor",ref:r},null,512))}};const l=r;var s=l}}]);
//# sourceMappingURL=164.3d21104b.js.map